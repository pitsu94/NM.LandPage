<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NM - Automation & AI Agency</title>
    <meta name="description" content="אוטומציה עסקית ופתרונות בינה מלאכותית לעסקים קטנים ובינוניים. חוסכים זמן, מונעים טעויות ומגדילים רווחיות.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Assistant', 'sans-serif'],
              display: ['Assistant', 'sans-serif'],
            },
            colors: {
              brand: {
                ink: '#01161E',      // Ink Black - Primary Text / Dark BG
                teal: '#124559',     // Dark Teal - Primary Action / Headings
                airforce: '#598392', // Air Force Blue - Secondary / Icons
                ash: '#AEC3B0',      // Ash Grey - Accents / Light BG
                beige: '#EFF6E0',    // Lightest - Backgrounds
              }
            }
          }
        }
      }
    </script>

    <style>
      body {
        font-family: 'Assistant', sans-serif;
      }
      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }
      /* Custom Animations */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      @keyframes slideInFromTop {
        from { transform: translateY(-10px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }
      .animate-in {
        animation: fadeIn 0.3s ease-out forwards;
      }
      .slide-in-from-top-2 {
        animation: slideInFromTop 0.3s ease-out forwards;
      }
    </style>

    <!-- Import Map for React and Dependencies -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.2.3",
    "react-dom/client": "https://esm.sh/react-dom@19.2.3/client",
    "lucide-react": "https://esm.sh/lucide-react@0.462.0",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
    <!-- Babel Standalone for JSX compilation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-white text-brand-ink antialiased">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import ReactDOM from 'react-dom/client';
        import { 
            Menu, X, FileSpreadsheet, Unplug, AlertTriangle, 
            Workflow, Bot, LayoutDashboard, Search, PenTool, 
            Rocket, ArrowLeft, ArrowDown, CheckCircle, PlusCircle, AlertCircle 
        } from 'lucide-react';
        import { createClient } from '@supabase/supabase-js';

        // --- Supabase Configuration ---
        const supabaseUrl = 'https://gwhzfmhrtgxoxyxgkpvp.supabase.co';
        const supabaseAnonKey = 'sb_publishable_VlD76MzYccT-mrLl6U-4Fg_yUTm2kKI';
        const supabase = createClient(supabaseUrl, supabaseAnonKey);

        // --- Components ---

        // Button Component
        const Button = ({ 
          variant = 'primary', 
          size = 'md', 
          children, 
          className = '',
          ...props 
        }) => {
          const baseStyles = "inline-flex items-center justify-center rounded-lg font-bold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-teal";
          
          const variants = {
            primary: "bg-brand-teal text-white hover:bg-brand-ink shadow-lg shadow-brand-teal/20",
            secondary: "bg-brand-ink text-white hover:bg-brand-teal",
            outline: "border-2 border-brand-ash text-brand-ink hover:border-brand-teal hover:text-brand-teal bg-transparent",
            white: "bg-white text-brand-teal hover:bg-brand-beige shadow-lg"
          };

          const sizes = {
            sm: "px-4 py-2 text-sm",
            md: "px-6 py-3 text-base",
            lg: "px-8 py-4 text-lg"
          };

          return (
            <button 
              className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`}
              {...props}
            >
              {children}
            </button>
          );
        };

        // Header Component
        const Header = () => {
          const [isScrolled, setIsScrolled] = useState(false);
          const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

          useEffect(() => {
            const handleScroll = () => {
              setIsScrolled(window.scrollY > 10);
            };
            window.addEventListener('scroll', handleScroll);
            return () => window.removeEventListener('scroll', handleScroll);
          }, []);

          const scrollToSection = (id) => {
            setIsMobileMenuOpen(false);
            const element = document.getElementById(id);
            if (element) {
              element.scrollIntoView({ behavior: 'smooth' });
            }
          };

          return (
            <header className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${isScrolled ? 'bg-white/95 backdrop-blur-md shadow-sm py-3 border-b border-brand-ash/20' : 'bg-transparent py-4'}`}>
              <div className="container mx-auto px-4 md:px-6 flex justify-between items-center">
                {/* Logo */}
                <div className="flex items-center gap-2 cursor-pointer" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>
                  <span className="text-4xl font-black tracking-tighter text-brand-ink font-display">NM</span>
                </div>

                {/* Desktop CTA */}
                <div className="hidden md:block">
                  <Button onClick={() => scrollToSection('contact')} size="sm" variant="secondary">
                    דברו איתי
                  </Button>
                </div>

                {/* Mobile Menu Toggle */}
                <button 
                  className="md:hidden text-brand-ink"
                  onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
                >
                  {isMobileMenuOpen ? <X size={28} /> : <Menu size={28} />}
                </button>
              </div>

              {/* Mobile Menu */}
              {isMobileMenuOpen && (
                <div className="md:hidden absolute top-full left-0 right-0 bg-white shadow-xl border-t border-brand-ash/20 p-6 flex flex-col gap-4">
                  <Button onClick={() => scrollToSection('contact')} className="w-full">
                    תיאום שיחת הדגמה
                  </Button>
                </div>
              )}
            </header>
          );
        };

        // Hero Component
        const Hero = () => {
          return (
            <section className="relative pt-24 pb-12 lg:pt-32 lg:pb-16 overflow-hidden bg-brand-ink">
              {/* Background Decor */}
              <div className="absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-brand-teal/20 to-transparent pointer-events-none" />
              <div className="absolute bottom-0 left-0 w-96 h-96 bg-brand-airforce/20 rounded-full blur-3xl opacity-60 pointer-events-none" />
              
              {/* Abstract line decoration */}
              <div className="absolute top-20 left-1/2 -translate-x-1/2 w-full max-w-3xl h-px bg-gradient-to-r from-transparent via-brand-ash/20 to-transparent" />

              <div className="container mx-auto px-4 md:px-6 relative z-10">
                <div className="max-w-4xl mx-auto text-center">
                  
                  <h1 className="text-3xl md:text-6xl lg:text-7xl font-display font-bold text-white leading-[1.2] mb-6">
                    מפסיקים לבזבז זמן וכסף <br className="block" />
                    על <span className="text-brand-ash">
                      עבודה ידנית שוחקת
                    </span>
                  </h1>
                  
                  <p className="text-lg md:text-xl text-brand-ash/80 mb-10 max-w-2xl mx-auto leading-relaxed font-medium">
                    אני בונה עבורכם פתרון טכנולוגי שתפור בדיוק לצרכי העסק, חוסך לכם אלפי שקלים בהוצאות שוטפות ומעניק לכם שקט נפשי עם ליווי מקצועי.
                  </p>

                </div>
              </div>
            </section>
          );
        };

        // PainPoints Component
        const PainPoints = () => {
          const [activeIndices, setActiveIndices] = useState([]);
          const itemsRef = useRef([]);

          useEffect(() => {
            const observer = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const index = Number(entry.target.getAttribute('data-index'));
                    setActiveIndices(prev => {
                      if (prev.includes(index)) return prev;
                      return [...prev, index];
                    });
                  }
                });
              },
              { threshold: 0.4 } 
            );

            itemsRef.current.forEach((el) => {
              if (el) observer.observe(el);
            });

            return () => observer.disconnect();
          }, []);

          const points = [
            {
              icon: FileSpreadsheet,
              title: "טביעה באקסלים והזנת נתונים",
              desc: "הצוות שלך מבזבז שעות יקרות על העתק-הדבק בין מערכות במקום להתמקד במכירות ובלקוחות."
            },
            {
              icon: Unplug,
              title: "מערכות מנותקות",
              desc: "ממשק ניהול הלקוחות לא מדבר עם הנהלת החשבונות, והלידים מהאתר לא מגיעים לטלפון. המידע הולך לאיבוד."
            },
            {
              icon: AlertTriangle,
              title: "טעויות אנוש יקרות",
              desc: "מספר טלפון שגוי, ליד שנשכח, או חיוב שלא יצא בזמן. טעויות קטנות שעולות לעסק אלפי שקלים."
            }
          ];

          return (
            <section id="pain-points" className="py-24 bg-brand-beige overflow-hidden">
              <div className="container mx-auto px-4 md:px-6">
                <div className="text-center mb-16">
                  <h2 className="text-3xl md:text-4xl font-bold text-brand-ink mb-4">
                    זה לא חייב להיות ככה
                  </h2>
                  <p className="text-brand-airforce max-w-2xl mx-auto text-lg font-medium">
                    רוב העסקים מפסידים כסף כל יום בגלל תהליכים מיושנים. מזהים את עצמכם?
                  </p>
                </div>

                <div className="grid md:grid-cols-3 gap-8">
                  {points.map((item, idx) => {
                    const isActive = activeIndices.includes(idx);
                    return (
                      <div 
                        key={idx} 
                        ref={el => { itemsRef.current[idx] = el; }}
                        data-index={idx}
                        className={`group p-8 rounded-2xl border transition-all duration-1000 ease-out relative overflow-hidden bg-white ${
                          isActive 
                            ? 'border-brand-ash/50 shadow-xl shadow-brand-teal/5 translate-y-0 opacity-100' 
                            : 'border-transparent translate-y-8 opacity-0'
                        }`}
                        style={{ transitionDelay: `${idx * 200}ms` }}
                      >
                        <div className={`w-14 h-14 rounded-xl flex items-center justify-center mb-6 transition-all duration-700 delay-300 ${
                          isActive ? 'bg-brand-ink text-white scale-100 rotate-0' : 'bg-brand-ash/20 text-brand-ink scale-75 -rotate-12'
                        }`}>
                          <item.icon size={28} strokeWidth={2} />
                        </div>
                        
                        <h3 className="text-xl font-bold text-brand-ink mb-3">{item.title}</h3>
                        
                        <div 
                          className={`grid transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)] ${
                            isActive ? 'grid-rows-[1fr] opacity-100 translate-y-0' : 'grid-rows-[0fr] opacity-0 -translate-y-4'
                          }`}
                        >
                          <div className="overflow-hidden">
                            <p className="text-brand-airforce leading-relaxed pb-2">
                              {item.desc}
                            </p>
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>
              </div>
            </section>
          );
        };

        // Services Component
        const Services = () => {
          const [activeIndices, setActiveIndices] = useState([]);
          const itemsRef = useRef([]);

          useEffect(() => {
            const observer = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const index = Number(entry.target.getAttribute('data-index'));
                    setActiveIndices(prev => {
                      if (prev.includes(index)) return prev;
                      return [...prev, index];
                    });
                  }
                });
              },
              { threshold: 0.4 }
            );

            itemsRef.current.forEach((el) => {
              if (el) observer.observe(el);
            });

            return () => observer.disconnect();
          }, []);

          const services = [
            {
              id: 'automation',
              title: 'אוטומציה עסקית',
              description: 'אוטומציה מלאה לתהליכי ליבה: יצירת הצעות מחיר, קליטת לידים, הפקת חשבוניות, מעקב לקוחות וניהול מלאי. הכל קורה אוטומטית ברקע.',
              icon: Workflow
            },
            {
              id: 'ai',
              title: 'סוכני AI חכמים',
              description: 'סוכני שירות מבוססי AI שיודעים לענות ללקוחות 24/7, לתאם פגישות ולסכם שיחות, תוך שיפור מתמיד של חווית השירות.',
              icon: Bot
            },
            {
              id: 'crm',
              title: 'מערכות ניהול ודשבורדים',
              description: 'ריכוז כל המידע העסקי במקום אחד נגיש וברור. קבלת תמונת מצב מדויקת בזמן אמת המאפשרת ניהול חכם, שליטה מלאה וקבלת החלטות מהירה.',
              icon: LayoutDashboard
            }
          ];

          return (
            <section id="services" className="py-24 bg-brand-ash text-brand-ink overflow-hidden">
              <div className="container mx-auto px-4 md:px-6">
                <div className="flex flex-col md:flex-row justify-between items-end mb-16 gap-6">
                  <div className="max-w-2xl">
                    <h2 className="text-3xl md:text-5xl font-bold font-display mb-6 text-brand-ink">
                      הכלים שאני מציע
                    </h2>
                    <p className="text-brand-ink/80 text-lg font-medium">
                      אני בוחר בקפידה את הטכנולוגיות המתקדמות והאמינות ביותר בשוק, כדי לבנות עבורכם פתרון יציב, מאובטח ומותאם אישית שחוסך זמן וכסף.
                    </p>
                  </div>
                </div>

                <div className="grid md:grid-cols-3 gap-8">
                  {services.map((service, idx) => {
                    const isActive = activeIndices.includes(idx);
                    return (
                      <div 
                        key={service.id}
                        ref={el => { itemsRef.current[idx] = el; }}
                        data-index={idx}
                        className={`group relative p-8 rounded-2xl border transition-all duration-1000 ease-out ${
                          isActive 
                            ? 'bg-brand-teal border-brand-teal shadow-2xl shadow-brand-ink/10 translate-y-0 opacity-100' 
                            : 'bg-transparent border-brand-ink/10 translate-y-12 opacity-0'
                        }`}
                        style={{ transitionDelay: `${idx * 200}ms` }}
                      >
                        <div className={`mb-6 inline-block p-3 rounded-lg bg-brand-airforce text-white shadow-lg transition-all duration-1000 ${
                          isActive ? 'shadow-brand-ink/20 scale-100' : 'shadow-none scale-90'
                        }`}>
                          <service.icon size={32} strokeWidth={2} />
                        </div>
                        <h3 className="text-2xl font-bold mb-4 text-white">{service.title}</h3>
                        
                        <div 
                          className={`grid transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)] ${
                            isActive ? 'grid-rows-[1fr] opacity-100 translate-y-0' : 'grid-rows-[0fr] opacity-0 -translate-y-2'
                          }`}
                        >
                          <div className="overflow-hidden">
                            <p className="text-brand-beige leading-relaxed pb-2">
                              {service.description}
                            </p>
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>
              </div>
            </section>
          );
        };

        // Process Component
        const Process = () => {
          const [activeSteps, setActiveSteps] = useState([]);
          const stepsRef = useRef([]);

          useEffect(() => {
            const observer = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const index = Number(entry.target.getAttribute('data-index'));
                    setActiveSteps(prev => {
                      if (prev.includes(index)) return prev;
                      return [...prev, index];
                    });
                  }
                });
              },
              { threshold: 0.4 } 
            );

            stepsRef.current.forEach((el) => {
              if (el) observer.observe(el);
            });

            return () => observer.disconnect();
          }, []);

          return (
            <section id="process" className="py-24 bg-white overflow-hidden">
              <div className="container mx-auto px-4 md:px-6">
                <div className="text-center mb-16">
                  <span className="text-brand-airforce font-bold tracking-wider uppercase text-sm">השיטה שלי</span>
                  <h2 className="text-3xl md:text-5xl font-bold text-brand-ink mt-2">
                    יצירת מנגנון שעובד בשבילכם ב-3 צעדים
                  </h2>
                </div>

                <div className="relative">
                  <div className="grid md:grid-cols-3 gap-12 relative z-10">
                    {/* Step 1 */}
                    <div className="relative">
                      <div 
                        ref={(el) => { stepsRef.current[0] = el; }}
                        data-index="0"
                        className={`group bg-brand-beige p-8 rounded-2xl border border-transparent text-center relative transition-all duration-1000 ease-out z-10 ${
                          activeSteps.includes(0) 
                            ? 'shadow-xl shadow-brand-ash/20 translate-y-0 opacity-100' 
                            : 'translate-y-16 opacity-0 shadow-none'
                        }`}
                      >
                        <div className={`w-16 h-16 mx-auto bg-brand-teal text-white rounded-2xl flex items-center justify-center mb-6 text-2xl font-bold shadow-sm z-10 relative transition-transform duration-700 delay-200 ${
                          activeSteps.includes(0) ? 'scale-100 rotate-0' : 'scale-50 rotate-12'
                        }`}>
                          <Search size={28} strokeWidth={2} />
                        </div>
                        <h3 className="text-xl font-bold text-brand-teal mb-3">אפיון ומיפוי</h3>
                        
                        <div 
                          className={`grid transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)] ${
                            activeSteps.includes(0) ? 'grid-rows-[1fr] opacity-100 translate-y-0' : 'grid-rows-[0fr] opacity-0 -translate-y-4'
                          }`}
                        >
                          <div className="overflow-hidden">
                            <p className="text-brand-ink/70">
                              אני צולל לעומק העסק, ממפה את כל התהליכים הידניים, ומזהה את "צווארי הבקבוק" שמעכבים צמיחה.
                            </p>
                          </div>
                        </div>
                      </div>
                      
                      {/* Arrow Container */}
                      <div className={`absolute top-full left-1/2 -translate-x-1/2 translate-y-2 md:top-1/2 md:left-0 md:-translate-x-1/2 md:-translate-y-1/2 text-brand-ash z-0 transition-all duration-1000 delay-500 ${
                        activeSteps.includes(0) ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-4'
                      }`}>
                        <ArrowDown className="md:hidden" size={32} />
                        <ArrowLeft className="hidden md:block absolute -left-6" size={32} />
                      </div>
                    </div>

                    {/* Step 2 */}
                    <div className="relative">
                      <div 
                        ref={(el) => { stepsRef.current[1] = el; }}
                        data-index="1"
                        className={`group bg-brand-beige p-8 rounded-2xl border border-transparent text-center relative transition-all duration-1000 ease-out z-10 ${
                          activeSteps.includes(1) 
                            ? 'shadow-xl shadow-brand-teal/10 translate-y-0 opacity-100' 
                            : 'translate-y-16 opacity-0 shadow-none'
                        }`}
                        style={{ transitionDelay: '300ms' }}
                      >
                        <div className={`w-16 h-16 mx-auto bg-brand-teal text-white rounded-2xl flex items-center justify-center mb-6 text-2xl font-bold shadow-sm z-10 relative transition-transform duration-700 delay-500 ${
                          activeSteps.includes(1) ? 'scale-100 rotate-0' : 'scale-50 rotate-12'
                        }`}>
                          <PenTool size={28} strokeWidth={2} />
                        </div>
                        <h3 className="text-xl font-bold text-brand-teal mb-3">פיתוח והקמה</h3>
                        
                        <div 
                          className={`grid transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)] ${
                            activeSteps.includes(1) ? 'grid-rows-[1fr] opacity-100 translate-y-0' : 'grid-rows-[0fr] opacity-0 -translate-y-4'
                          }`}
                        >
                          <div className="overflow-hidden">
                            <p className="text-brand-ink/70">
                              אני בונה את המערכת שלכם בהתאמה אישית מלאה, מחבר בין המערכות השונות ויוצר זרימת מידע חלקה ואוטומטית.
                            </p>
                          </div>
                        </div>
                      </div>
                      
                      {/* Arrow Container */}
                       <div className={`absolute top-full left-1/2 -translate-x-1/2 translate-y-2 md:top-1/2 md:left-0 md:-translate-x-1/2 md:-translate-y-1/2 text-brand-ash z-0 transition-all duration-1000 delay-700 ${
                        activeSteps.includes(1) ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-4'
                      }`}>
                        <ArrowDown className="md:hidden" size={32} />
                        <ArrowLeft className="hidden md:block absolute -left-6" size={32} />
                      </div>
                    </div>

                    {/* Step 3 */}
                    <div 
                      ref={(el) => { stepsRef.current[2] = el; }}
                      data-index="2"
                      className={`group bg-brand-beige p-8 rounded-2xl border border-transparent text-center relative transition-all duration-1000 ease-out z-10 ${
                        activeSteps.includes(2) 
                          ? 'shadow-xl shadow-brand-airforce/20 translate-y-0 opacity-100' 
                          : 'translate-y-16 opacity-0 shadow-none'
                      }`}
                      style={{ transitionDelay: '600ms' }}
                    >
                      <div className={`w-16 h-16 mx-auto bg-brand-teal text-white rounded-2xl flex items-center justify-center mb-6 text-2xl font-bold shadow-sm z-10 relative transition-transform duration-700 delay-700 ${
                        activeSteps.includes(2) ? 'scale-100 rotate-0' : 'scale-50 rotate-12'
                      }`}>
                        <Rocket size={28} strokeWidth={2} />
                      </div>
                      <h3 className="text-xl font-bold text-brand-teal mb-3">הטמעה והדרכה</h3>
                      
                      <div 
                        className={`grid transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)] ${
                          activeSteps.includes(2) ? 'grid-rows-[1fr] opacity-100 translate-y-0' : 'grid-rows-[0fr] opacity-0 -translate-y-4'
                        }`}
                      >
                        <div className="overflow-hidden">
                          <p className="text-brand-ink/70">
                            אני לא נעלם. מטמיע את המערכת, מדריך את הצוות שלכם ומוודא שהכל רץ חלק לאורך זמן.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          );
        };

        // CTA Component
        const CTA = () => {
          const [formStatus, setFormStatus] = useState('idle');
          const [showExtraChallenge, setShowExtraChallenge] = useState(false);
          const [managementTool, setManagementTool] = useState('');
          const [referralSource, setReferralSource] = useState('');

          useEffect(() => {
            const params = new URLSearchParams(window.location.search);
            const ref = params.get('ref');
            if (ref) {
              setReferralSource(ref);
            }
          }, []);

          const handleSubmit = async (e) => {
            e.preventDefault();
            setFormStatus('submitting');
            
            const formData = new FormData(e.target);
            const data = {
              name: formData.get('name'),
              email: formData.get('email'),
              phone: formData.get('phone'),
              business_field: formData.get('business_field'),
              management_tool: formData.get('management_tool'),
              other_tool_details: formData.get('other_tool_details') || null,
              challenge: formData.get('challenge'),
              extra_challenge: formData.get('extra_challenge') || null,
              referral_source: referralSource || null,
              created_at: new Date().toISOString(),
            };

            try {
              const { error } = await supabase
                .from('leads')
                .insert([data]);

              if (error) {
                console.error('Error submitting form:', error);
                setFormStatus('error');
              } else {
                setFormStatus('success');
              }
            } catch (err) {
              console.error('Unexpected error:', err);
              setFormStatus('error');
            }
          };

          const inputClasses = "w-full px-4 py-3 rounded-lg border border-brand-ash/30 bg-brand-beige text-brand-ink focus:ring-2 focus:ring-brand-teal focus:border-brand-teal outline-none transition-all placeholder:text-brand-airforce/50";

          return (
            <section id="contact" className="py-24 bg-brand-airforce text-white">
              <div className="container mx-auto px-4 md:px-6">
                <div className="grid lg:grid-cols-2 gap-16 items-center">
                  
                  <div>
                    <h2 className="text-3xl md:text-5xl font-bold font-display mb-6">
                      מוכנים לעבוד פחות קשה והרבה יותר חכם?
                    </h2>
                    <p className="text-white/90 text-lg mb-8 leading-relaxed">
                      השאירו פרטים לשיחת ייעוץ קצרה (ללא עלות). נבין יחד איפה האוטומציה יכולה לחסוך לכם הכי הרבה כסף וזמן כבר בחודש הראשון.
                    </p>
                    
                    <ul className="space-y-4 text-white">
                      <li className="flex items-center gap-3">
                        <CheckCircle className="text-white" size={24} />
                        <span className="text-lg">ניתוח ראשוני של העסק ללא התחייבות</span>
                      </li>
                      <li className="flex items-center gap-3">
                        <CheckCircle className="text-white" size={24} />
                        <span className="text-lg">הצעת מחיר מותאמת אישית</span>
                      </li>
                      <li className="flex items-center gap-3">
                        <CheckCircle className="text-white" size={24} />
                        <span className="text-lg">ROI ברור ומדיד</span>
                      </li>
                    </ul>
                  </div>

                  <div className="bg-white rounded-2xl p-8 shadow-2xl shadow-brand-ink/10 border border-brand-ash/20">
                    {formStatus === 'success' ? (
                      <div className="text-center py-12 animate-in fade-in zoom-in duration-500">
                        <div className="w-20 h-20 bg-brand-teal text-white rounded-full flex items-center justify-center mx-auto mb-6">
                          <CheckCircle size={40} />
                        </div>
                        <h3 className="text-2xl font-bold text-brand-ink mb-2">הפרטים התקבלו!</h3>
                        <p className="text-brand-airforce">תודה שפנית אלי. אחזור אליך בהקדם האפשרי לתיאום שיחה.</p>
                        <button 
                          onClick={() => {
                            setFormStatus('idle');
                            setShowExtraChallenge(false);
                            setManagementTool('');
                          }}
                          className="mt-6 text-brand-teal hover:text-brand-ink font-medium underline"
                        >
                          שלח פנייה נוספת
                        </button>
                      </div>
                    ) : (
                      <form onSubmit={handleSubmit} className="space-y-4">
                        <h3 className="text-2xl font-bold text-brand-ink mb-6 text-center">
                          קבעו איתי שיחה
                        </h3>
                        
                        {formStatus === 'error' && (
                          <div className="bg-red-50 border border-red-200 text-red-600 p-4 rounded-lg flex items-center gap-2 mb-4">
                            <AlertCircle size={20} />
                            <span>אירעה שגיאה בשליחת הטופס. אנא נסה שנית.</span>
                          </div>
                        )}

                        <div>
                          <label htmlFor="name" className="block text-sm font-bold text-brand-teal mb-1">שם מלא</label>
                          <input 
                            type="text" 
                            id="name" 
                            name="name"
                            required
                            className={inputClasses}
                            placeholder="ישראל ישראלי"
                          />
                        </div>

                        <div>
                          <label htmlFor="email" className="block text-sm font-bold text-brand-teal mb-1">אימייל עסקי</label>
                          <input 
                            type="email" 
                            id="email" 
                            name="email"
                            required
                            className={inputClasses}
                            placeholder="name@company.co.il"
                          />
                        </div>

                        <div className="grid grid-cols-2 gap-4">
                          <div>
                            <label htmlFor="phone" className="block text-sm font-bold text-brand-teal mb-1">טלפון</label>
                            <input 
                              type="tel" 
                              id="phone" 
                              name="phone"
                              required
                              className={inputClasses}
                              placeholder="050-0000000"
                            />
                          </div>
                          <div>
                            <label htmlFor="business-field" className="block text-sm font-bold text-brand-teal mb-1">תחום העסק</label>
                            <input 
                              type="text" 
                              id="business-field"
                              name="business_field" 
                              required
                              className={inputClasses}
                              placeholder="לדוג׳: מסעדה, קבלן עצמאי..."
                            />
                          </div>
                        </div>

                        <div>
                          <label htmlFor="management-tool" className="block text-sm font-bold text-brand-teal mb-1">
                            בעזרת איזה כלי אתה מנהל את המידע בעסק?
                          </label>
                          <select
                            id="management-tool"
                            name="management_tool"
                            className={`${inputClasses} appearance-none cursor-pointer`}
                            value={managementTool}
                            onChange={(e) => setManagementTool(e.target.value)}
                            required
                          >
                            <option value="" disabled className="bg-white text-brand-ash/50">בחר אפשרות...</option>
                            <option value="excel" className="bg-white text-brand-ink">אקסל / גוגל שיטס</option>
                            <option value="crm" className="bg-white text-brand-ink">מערכת CRM (ניהול לקוחות)</option>
                            <option value="tasks" className="bg-white text-brand-ink">מערכות ניהול משימות (Monday/ClickUp)</option>
                            <option value="erp" className="bg-white text-brand-ink">מערכת ERP (פריוריטי/SAP)</option>
                            <option value="manual" className="bg-white text-brand-ink">דף ועט / מחברת</option>
                            <option value="other" className="bg-white text-brand-ink">אחר (אפרט)</option>
                          </select>
                        </div>

                        {managementTool === 'other' && (
                          <div className="animate-in fade-in slide-in-from-top-2 duration-300">
                            <label htmlFor="other-tool-details" className="block text-sm font-bold text-brand-teal mb-1">
                              באיזה כלי מדובר?
                            </label>
                            <input 
                              type="text"
                              id="other-tool-details"
                              name="other_tool_details"
                              required
                              className={inputClasses}
                              placeholder="כתוב כאן את שם הכלי..."
                            />
                          </div>
                        )}
                        
                        <div>
                          <label htmlFor="challenge" className="block text-sm font-bold text-brand-teal mb-1">מה האתגר המרכזי בעסק?</label>
                          <input 
                            type="text"
                            id="challenge"
                            name="challenge"
                            className={inputClasses}
                            placeholder="לדוג׳: עומס ביצירת הצעות מחיר..."
                          />
                        </div>

                        {showExtraChallenge && (
                          <div className="animate-in fade-in slide-in-from-top-2 duration-300">
                            <label htmlFor="challenge-2" className="block text-sm font-bold text-brand-teal mb-1">אתגר נוסף</label>
                            <input 
                              type="text"
                              id="challenge-2"
                              name="extra_challenge" 
                              className={inputClasses}
                              placeholder="פרט אתגר נוסף..."
                            />
                          </div>
                        )}

                        {!showExtraChallenge && (
                          <button
                            type="button"
                            onClick={() => setShowExtraChallenge(true)}
                            className="flex items-center gap-2 text-sm text-brand-teal hover:text-brand-ink font-bold transition-colors"
                          >
                            <PlusCircle size={16} />
                            הוסף אתגר נוסף
                          </button>
                        )}

                        <Button 
                          type="submit" 
                          size="lg" 
                          className="w-full mt-6"
                          disabled={formStatus === 'submitting'}
                        >
                          {formStatus === 'submitting' ? 'שולח...' : 'אשמח לתאם שיחת היכרות'}
                        </Button>
                      </form>
                    )}
                  </div>
                </div>
              </div>
            </section>
          );
        };

        // Footer Component
        const Footer = () => {
          return (
            <footer className="bg-brand-ink text-brand-ash/50 py-6 border-t border-brand-ash/10">
              <div className="container mx-auto px-4 text-center text-sm">
                <p>© {new Date().getFullYear()} NM Automation. כל הזכויות שמורות.</p>
              </div>
            </footer>
          );
        };

        // Main App Component
        function App() {
          return (
            <div className="min-h-screen bg-slate-50 font-sans text-right" dir="rtl">
              <Header />
              <main>
                <Hero />
                <PainPoints />
                <Services />
                <Process />
                <CTA />
              </main>
              <Footer />
            </div>
          );
        }

        // Render Application
        const rootElement = document.getElementById('root');
        const root = ReactDOM.createRoot(rootElement);
        root.render(
          <React.StrictMode>
            <App />
          </React.StrictMode>
        );
    </script>
</body>
</html>
